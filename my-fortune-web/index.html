<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>人生K线图 - 财富趋势分析</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.3/dist/echarts.min.js"></script>
    <style>
        body { background-color: #0d1117; color: #ffffff; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif; margin: 0; padding: 20px; display: flex; flex-direction: column; align-items: center; }
        .container { max-width: 800px; width: 100%; text-align: center; }
        h1 { color: #f0b90b; margin-bottom: 10px; }
        .input-group { margin: 20px 0; background: #1c2128; padding: 20px; border-radius: 12px; border: 1px solid #30363d; }
        input { padding: 10px; border-radius: 6px; border: 1px solid #30363d; background: #0d1117; color: white; margin-right: 10px; }
        button { padding: 10px 20px; background: #f0b90b; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; }
        #chart { width: 100%; height: 500px; margin-top: 20px; background: #1c2128; border-radius: 12px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>人生K线图 <sup>Beta</sup></h1>
        <p style="color: #8b949e;">基于星历算法的可视化运势分析站</p>
        
        <div class="input-group">
            <input type="number" id="birthYear" placeholder="出生年份 (例: 1995)" min="1900" max="2025">
            <button onclick="generateChart()">生成我的K线</button>
        </div>

        <div id="chart"></div>
        <p style="font-size: 12px; color: #484f58; margin-top: 20px;">* 免责声明：本工具基于娱乐算法，不构成投资建议。</p>
    </div>

    <script>
        function generateChart() {
            const year = document.getElementById('birthYear').value;
            if (!year) return alert('请输入年份');

            const chartDom = document.getElementById('chart');
            const myChart = echarts.init(chartDom, 'dark');
            
            // 模拟算法：根据年份生成50年的运势数据
            const data = [];
            let baseScore = 50 + (year % 10); // 初始分数

            for (let i = 0; i < 50; i++) {
                let open = baseScore + Math.random() * 10 - 5;
                let close = open + Math.random() * 14 - 7;
                let low = Math.min(open, close) - Math.random() * 5;
                let high = Math.max(open, close) + Math.random() * 5;
                data.push([open, close, low, high]);
                baseScore = close; // 下一年承接
            }

            const option = {
                backgroundColor: 'transparent',
                tooltip: { trigger: 'axis', axisPointer: { type: 'cross' } },
                grid: { left: '10%', right: '10%', bottom: '15%' },
                xAxis: { type: 'category', data: Array.from({length: 50}, (_, i) => parseInt(year) + i + '年') },
                yAxis: { scale: true, splitLine: { lineStyle: { color: '#30363d' } } },
                series: [{
                    type: 'candlestick',
                    data: data,
                    itemStyle: {
                        color: '#ef232a', color0: '#14b143',
                        borderColor: '#ef232a', borderColor0: '#14b143'
                    }
                }]
            };

            myChart.setOption(option);
        }
    </script>
</body>
</html>