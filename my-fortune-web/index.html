<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Life K-Line | äººç”Ÿèµ„äº§Kçº¿å›¾</title>
    <style>
        :root { --gold: #f0b90b; --bg: #0b0e11; --card: #1e2329; --text: #eaecef; --green: #0ecb81; --red: #f6465d; --axis: #474d57; }
        body { background: var(--bg); color: var(--text); font-family: sans-serif; margin: 0; padding: 10px; display: flex; flex-direction: column; align-items: center; }
        
        /* ä¼˜åŒ–ç‚¹2ï¼šæ‹“å®½é¡µé¢å®¹å™¨ */
        .container { width: 100%; max-width: 800px; background: var(--card); padding: 25px; border-radius: 16px; box-sizing: border-box; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        
        .header { display: flex; justify-content: space-between; width: 100%; max-width: 800px; align-items: center; margin: 10px 0 20px 0; }
        .input-grid { display: grid; grid-template-columns: 2fr 1fr 1fr; gap: 12px; margin-bottom: 15px; }
        input { background: var(--bg); border: 1px solid var(--axis); color: white; padding: 12px; border-radius: 8px; width: 100%; box-sizing: border-box; outline: none; font-size: 16px; }
        input:focus { border-color: var(--gold); }
        
        button#main-btn { width: 100%; background: var(--gold); color: #000; border: none; padding: 16px; border-radius: 8px; font-weight: bold; cursor: pointer; font-size: 16px; transition: 0.2s; }
        button#main-btn:active { transform: scale(0.98); opacity: 0.9; }
        
        #canvasWrap { width: 100%; height: 400px; margin-top: 20px; background: #161a1e; border-radius: 8px; position: relative; overflow: hidden; }
        canvas { display: block; width: 100% !important; height: 100% !important; }
        
        #shareArea { display: none; margin-top: 20px; border: 1px dashed var(--gold); padding: 20px; border-radius: 12px; font-size: 15px; background: rgba(240,185,11,0.05); }
        .copy-btn { background: var(--gold); border: none; color: #000; padding: 10px; width: 100%; border-radius: 6px; cursor: pointer; font-weight: bold; margin-top: 15px; }
        .tips { font-size: 12px; color: #707a8a; margin-top: 20px; text-align: center; }
    </style>
</head>
<body>

    <div class="header">
        <h2 id="t-title" style="color:var(--gold); margin:0; letter-spacing: 1px;">äººç”Ÿèµ„äº§Kçº¿å›¾</h2>
        <button onclick="toggleLang()" style="background:none; border:1px solid var(--gold); color:var(--gold); padding:6px 12px; border-radius:4px; font-size:13px; cursor:pointer; font-weight:bold;">EN/ä¸­æ–‡</button>
    </div>

    <div class="container">
        <div class="input-grid">
            <input type="number" id="year" placeholder="å‡ºç”Ÿå¹´ä»½ (YYYY)">
            <input type="number" id="month" placeholder="æœˆ">
            <input type="number" id="day" placeholder="æ—¥">
        </div>
        <button onclick="generate()" id="main-btn">åˆ†ææˆ‘çš„è´¢å¯Œç”Ÿå‘½å‘¨æœŸ</button>
        
        <div id="canvasWrap">
            <canvas id="kCanvas"></canvas>
        </div>

        <div id="shareArea">
            <div id="shareText" style="line-height:1.7; white-space:pre-wrap; color:var(--text);"></div>
            <button class="copy-btn" onclick="copyText()" id="t-copy">å¤åˆ¶åˆ†äº«æ–‡æ¡ˆ</button>
        </div>

        <p class="tips" id="t-tips">* æœ¬åœ°æ¸²æŸ“å¼•æ“å·²å°±ç»ª | åŸºäºç®—æ³•é€»è¾‘æ¨¡æ‹Ÿï¼Œä¸æ„æˆè´¢åŠ¡å»ºè®®</p>
    </div>

<script>
    let lang = 'zh';
    const i18n = {
        zh: { title: "äººç”Ÿèµ„äº§Kçº¿å›¾", btn: "åˆ†ææˆ‘çš„è´¢å¯Œç”Ÿå‘½å‘¨æœŸ", copy: "å¤åˆ¶æˆåŠŸï¼", copyBtn: "å¤åˆ¶åˆ†äº«æ–‡æ¡ˆ", tags: ["è´¢å¯Œä¸»å‡æµª", "åº•éƒ¨æ„ç­‘ä¸­", "æ½œé¾™åœ¨æ¸Š", "é€†åŠ¿ç¿»ç›˜", "é«˜ä½ç›˜æ•´"], tpl: "ğŸ“Š æˆ‘çš„ã€äººç”ŸKçº¿å›¾ã€‘åˆ†æç»“æœï¼š\nâœ¨ æ ¸å¿ƒçŠ¶æ€ï¼š#{tag}\nğŸš€ è´¢å¯Œçˆ†å‘æœŸé¢„è®¡åœ¨ {year} å¹´ï¼\nğŸ”— æµ‹æµ‹ä½ çš„ï¼š{url}" },
        en: { title: "Life Asset K-Line", btn: "Analyze My Life Cycle", copy: "Copied!", copyBtn: "Copy Share Text", tags: ["Bullish Surge", "Bottoming Out", "Hidden Dragon", "Reversal Point", "High Volatility"], tpl